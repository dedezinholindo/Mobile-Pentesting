#!/bin/bash
if [ "$1" == "" ]
then
echo "<=========================================>"
echo "HOW TO USE: $0 myapp.apk"
echo "<=========================================>"
else
echo "type a name for the file:"
read name
echo "type a password with at least 8 digits:"
read pass
echo "Generating the archive for signing..."
keytool -genkey -keystore $name.jks -storepass $pass -storetype jks -alias $name -keyalg rsa -dname "CN=DESEC" -keypass $pass
echo "Signing the new APK..."
jarsigner -keystore $name.jks -storepass $pass -storetype jks -sigalg sha1withrsa -digestalg sha1 $1 $name
echo "Verifying the new signing..."
jarsigner -verify -certs -verbose $1
fi
